"use strict";(self["webpackChunkvue_shop"]=self["webpackChunkvue_shop"]||[]).push([[407],{3744:function(e,a){a.Z=(e,a)=>{const t=e.__vccOpts||e;for(const[i,l]of a)t[i]=l;return t}},7903:function(e,a,t){t.d(a,{Z:function(){return d}});var i=t(6252),l=t(3577),u={__name:"AppButton",props:{buttonType:{validator:function(e){return["","secondary","success"].includes(e)},default:""},outline:{type:Boolean,default:!1}},setup(e){return(a,t)=>((0,i.wg)(),(0,i.iD)("button",{class:(0,l.C_)(["button",[{success:"success"===e.buttonType},{secondary:"secondary"===e.buttonType},{outline:e.outline}]])},[(0,i.WI)(a.$slots,"default")],2))}},r=t(3744);const c=(0,r.Z)(u,[["__scopeId","data-v-d97a6200"]]);var d=c},3407:function(e,a,t){t.r(a),t.d(a,{default:function(){return O}});var i=t(6252),l=t(2262),u=t(3577),r=t(7903);const c={class:"container"};var d={__name:"BasketCountInput",props:{countValue:{type:Number,default:0}},emits:["increaseValue","decreaseValue"],setup(e,{emit:a}){return(t,l)=>((0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(r.Z,{class:"button",onClick:l[0]||(l[0]=e=>a("decreaseValue"))},{default:(0,i.w5)((()=>[(0,i.Uk)("-")])),_:1}),(0,i._)("div",null,(0,u.zw)(e.countValue),1),(0,i.Wm)(r.Z,{class:"button",onClick:l[1]||(l[1]=e=>a("increaseValue"))},{default:(0,i.w5)((()=>[(0,i.Uk)("+")])),_:1})]))}},s=t(3744);const n=(0,s.Z)(d,[["__scopeId","data-v-5bdd38ea"]]);var o=n,_=t(6890);t(3770);function p(){return _}const v=e=>((0,i.dD)("data-v-04fc1aed"),e=e(),(0,i.Cn)(),e),b={key:0,class:"purchases"},g={class:"purchases__list"},m=v((()=>(0,i._)("h1",{class:"purchases__list-title"},"Корзина",-1))),f={class:"image-block"},k=["src","alt"],y={class:"description-block"},x=v((()=>(0,i._)("div",{class:"basket-row__subtitle"},"Наименовние",-1))),w={class:"basket-row__product-title"},z={key:0,class:"basket-row__product-price"},h={key:1,class:"basket-row__product-size"},P={class:"basket-row__counter"},U={class:"basket-row__price"},D=v((()=>(0,i._)("div",{class:"basket-row__subtitle basket-row__subtitle--right"},"Стоимость",-1))),S={class:"basket-row__price-value"},B={class:"purchases__total-container"},C=v((()=>(0,i._)("div",{class:"purchases__total-title"},"Итого",-1))),V={class:"purchases__total-counts"},I={class:"purchases__total-cost"},Z={key:1,class:"not-purchases__container"},W=v((()=>(0,i._)("h1",{class:"not-purchases__title"},"В корзине пока пусто",-1))),M=v((()=>(0,i._)("div",null,"Загляните на главную, чтобы выбрать товары",-1)));var L={__name:"BasketView",setup(e){const a=p(),{purchases:t,totalCounts:c,increaseQuantityProduct:d,decreaseQuantityProduct:s,deletePurchase:n}=(0,i.f3)("state"),_=(0,i.Fl)((()=>t.value.map((e=>{const t=a.find((a=>a.id===e.id));return t?"simple"===t.type?{...t,totalProductCount:e.count}:{...t,totalProductCount:e.count,selectedProductVariantId:e.variantId}:{id:"null",title:"Продукт закончился"}})))),v=(0,i.Fl)((()=>_.value.reduce(((e,a)=>Math.round(100*(e+a.regular_price.value*a.totalProductCount))/100),0)));function L(e){if("configurable"===e.type){const a=e.variants.find((a=>a.product.id===e.selectedProductVariantId));if(a)return"/vue-shop"+a.product.image}return"/vue-shop"+e.image}function N(e,a){const t=e.variants.find((a=>a.product.id===e.selectedProductVariantId));if(!t)return{};const i=t.attributes.find((e=>e.code===a)).value_index,l=e.configurable_options.find((e=>e.attribute_code===a)).values,u=l.find((e=>e.value_index===i));return u}return(e,a)=>{const p=(0,i.up)("router-link");return(0,l.SU)(t).length?((0,i.wg)(),(0,i.iD)("div",b,[(0,i._)("div",g,[m,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(_.value,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,class:"basket-row"},[(0,i._)("div",f,[(0,i._)("img",{src:L(e),alt:e.title,class:"image-block__image"},null,8,k)]),(0,i._)("div",y,[x,(0,i._)("div",w,(0,u.zw)(e.title),1),"configurable"===e.type?((0,i.wg)(),(0,i.iD)("div",z,[(0,i.Uk)(" Цвет "),(0,i._)("span",null,(0,u.zw)(N(e,"color").label),1)])):(0,i.kq)("",!0),"configurable"===e.type?((0,i.wg)(),(0,i.iD)("div",h,[(0,i.Uk)(" Размер "),(0,i._)("span",null,(0,u.zw)(N(e,"size").label),1)])):(0,i.kq)("",!0)]),(0,i._)("div",P,[(0,i.Wm)(o,{class:"basket-row__counter-input","count-value":e.totalProductCount,onIncreaseValue:a=>(0,l.SU)(d)(e.id,e.selectedProductVariantId),onDecreaseValue:a=>(0,l.SU)(s)(e.id,e.selectedProductVariantId)},null,8,["count-value","onIncreaseValue","onDecreaseValue"])]),(0,i._)("div",U,[D,(0,i._)("div",S,(0,u.zw)(e.regular_price?.value)+" "+(0,u.zw)(e.regular_price?.currency),1),(0,i.Wm)(r.Z,{outline:!0,class:"basket-row__delete-btn",onClick:a=>(0,l.SU)(n)(e.id,e.selectedProductVariantId)},{default:(0,i.w5)((()=>[(0,i.Uk)(" Удалить ")])),_:2},1032,["onClick"])])])))),128))]),(0,i._)("div",B,[C,(0,i._)("div",V," Общее количество товаров: "+(0,u.zw)((0,l.SU)(c))+" шт. ",1),(0,i._)("div",I,(0,u.zw)(v.value)+" USD",1),(0,i.Wm)(r.Z,{class:"purchases__total-button"},{default:(0,i.w5)((()=>[(0,i.Uk)("Заказать")])),_:1})])])):((0,i.wg)(),(0,i.iD)("div",Z,[W,M,(0,i.Wm)(p,{class:"not-purchases__link",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Перейти на главную")])),_:1})]))}}};const N=(0,s.Z)(L,[["__scopeId","data-v-04fc1aed"]]);var O=N},3770:function(e){e.exports=JSON.parse('[{"id":1,"title":"Brand 1","sort":"100","code":"brand_1"},{"id":2,"title":"Brand 2","sort":"200","code":"brand_2"},{"id":3,"title":"Brand 3","sort":"300","code":"brand_3"},{"id":4,"title":"Brand 4","sort":"400","code":"brand_4"},{"id":5,"title":"Brand 5","sort":"500","code":"brand_5"},{"id":6,"title":"Brand 6","sort":"600","code":"brand_6"},{"id":7,"title":"Brand 7","sort":"700","code":"brand_7"},{"id":8,"title":"Brand 8","sort":"700","code":"brand_8"},{"id":9,"title":"Brand 9","sort":"900","code":"brand_9"}]')},6890:function(e){e.exports=JSON.parse('[{"type":"simple","id":1,"sku":"s1","title":"Product 1","regular_price":{"currency":"USD","value":27.12},"image":"/images/1.png","brand":9},{"type":"configurable","id":2,"sku":"c1","title":"Product 2","regular_price":{"currency":"USD","value":54.21},"image":"/images/conf/default.png","configurable_options":[{"attribute_id":93,"attribute_code":"color","label":"Color","values":[{"label":"Red","value_index":931,"value":"#ff0000"},{"label":"Blue","value_index":932,"value":"#0000ff"},{"label":"Black","value_index":933,"value":"#000"}]},{"attribute_code":"size","attribute_id":144,"position":0,"id":2,"label":"Size","values":[{"label":"M","value_index":1441,"value":1},{"label":"L","value_index":1442,"value":2}]}],"variants":[{"attributes":[{"code":"color","value_index":931},{"code":"size","value_index":1441}],"product":{"id":2001,"sku":"c1-red-m","image":"/image/conf/red.png"}},{"attributes":[{"code":"color","value_index":931},{"code":"size","value_index":1442}],"product":{"id":2002,"sku":"c1-red-l","image":"/image/conf/red.png"}},{"attributes":[{"code":"color","value_index":932},{"code":"size","value_index":1441}],"product":{"id":2003,"sku":"c1-blue-m","image":"/image/conf/blue.png"}},{"attributes":[{"code":"color","value_index":933},{"code":"size","value_index":1442}],"product":{"id":2004,"sku":"c1-black-l","image":"/image/conf/black.png"}}],"brand":1},{"type":"simple","id":3,"sku":"s2","title":"Product 3","regular_price":{"currency":"USD","value":36.87},"image":"/images/2.png","brand":8},{"type":"simple","id":4,"sku":"s3","title":"Product 4","regular_price":{"currency":"USD","value":28.91},"image":"/images/3.png","brand":2},{"type":"simple","id":5,"sku":"s4","title":"Product 5","regular_price":{"currency":"USD","value":41.23},"image":"/images/4.png","brand":7},{"type":"simple","id":6,"sku":"s5","title":"Product 6","regular_price":{"currency":"USD","value":88},"image":"/images/5.png","brand":3},{"type":"simple","id":7,"sku":"s6","title":"Product 7","regular_price":{"currency":"USD","value":127.41},"image":"/images/6.png","brand":6},{"type":"configurable","id":8,"sku":"c2","title":"Product 8","regular_price":{"currency":"USD","value":63.27},"image":"/images/conf/default.png","configurable_options":[{"attribute_id":93,"attribute_code":"color","label":"Color","values":[{"label":"Red","value_index":931,"value":"#ff0000"},{"label":"Blue","value_index":932,"value":"#0000ff"},{"label":"Black","value_index":933,"value":"#000"}]},{"attribute_code":"size","attribute_id":144,"position":0,"id":2,"label":"Size","values":[{"label":"M","value_index":1441,"value":1},{"label":"L","value_index":1442,"value":2}]}],"variants":[{"attributes":[{"code":"color","value_index":931},{"code":"size","value_index":1441}],"product":{"id":8001,"sku":"c2-red-m","image":"/image/conf/red.png"}},{"attributes":[{"code":"color","value_index":931},{"code":"size","value_index":1442}],"product":{"id":8002,"sku":"c2-red-l","image":"/image/conf/red.png"}},{"attributes":[{"code":"color","value_index":932},{"code":"size","value_index":1441}],"product":{"id":8003,"sku":"c2-blue-m","image":"/image/conf/blue.png"}},{"attributes":[{"code":"color","value_index":933},{"code":"size","value_index":1442}],"product":{"id":8004,"sku":"c2-black-l","image":"/image/conf/black.png"}}],"brand":4},{"type":"simple","id":9,"sku":"s7","title":"Product 9","regular_price":{"currency":"USD","value":123.4},"image":"/images/7.png","brand":5},{"type":"configurable","id":10,"sku":"c3","title":"Product 10","regular_price":{"currency":"USD","value":68.273},"image":"/images/conf/default.png","configurable_options":[{"attribute_id":93,"attribute_code":"color","label":"Color","values":[{"label":"Red","value_index":931,"value":"#ff0000"},{"label":"Blue","value_index":932,"value":"#0000ff"},{"label":"Black","value_index":933,"value":"#000"}]},{"attribute_code":"size","attribute_id":144,"position":0,"id":2,"label":"Size","values":[{"label":"M","value_index":1441,"value":1},{"label":"L","value_index":1442,"value":2}]}],"variants":[{"attributes":[{"code":"color","value_index":931},{"code":"size","value_index":1441}],"product":{"id":10001,"sku":"c10-red-m","image":"/image/conf/red.png"}},{"attributes":[{"code":"color","value_index":931},{"code":"size","value_index":1442}],"product":{"id":10002,"sku":"c10-red-l","image":"/image/conf/red.png"}},{"attributes":[{"code":"color","value_index":932},{"code":"size","value_index":1441}],"product":{"id":10003,"sku":"c10-blue-m","image":"/image/conf/blue.png"}},{"attributes":[{"code":"color","value_index":933},{"code":"size","value_index":1442}],"product":{"id":10004,"sku":"c10-black-l","image":"/image/conf/black.png"}}],"brand":3},{"type":"simple","id":11,"sku":"s8","title":"Product 11","regular_price":{"currency":"USD","value":92.32},"image":"/images/8.png","brand":1},{"type":"simple","id":12,"sku":"s9","title":"Product 12","regular_price":{"currency":"USD","value":53.4},"image":"/images/9.png","brand":2}]')}}]);
//# sourceMappingURL=407.3532eb48.js.map